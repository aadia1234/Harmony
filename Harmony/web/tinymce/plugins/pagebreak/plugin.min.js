/**
 * TinyMCE version 6.3.1 (2022-12-06) - modified
 */
!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.Env");let t=e=>a=>a.options.get(e),r=e=>{let a=e.options.register;a("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),a("pagebreak_split_block",{processor:"boolean",default:!1})},o=t("pagebreak_separator"),n=t("pagebreak_split_block"),l="mce-pagebreak",p=e=>{let t=`<img style="cursor: default; display: block; height: 10px; margin-top: 15px; width: 100%; background-color: rgb(236 237 242); padding-right: 12.2rem; box-shadow: inset 0px 8px 8px -10px #ccc, inset 0px -8px 8px -10px #ccc; margin-left: -6.1rem; border: none;" src="${a.transparentSrc}" class="${l}" data-mce-resize="false" data-mce-placeholder/>`;return e?`<p>${t}</p>`:t},i=e=>{let a=o(e),t=()=>n(e),r=RegExp(a.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(r,p(t()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",r=>{let o=r.length,n,p;for(;o--;)if((p=(n=r[o]).attr("class"))&&-1!==p.indexOf(l)){let i=n.parent;if(i&&e.schema.getBlockElements()[i.name]&&t()){i.type=3,i.value=a,i.raw=!0,n.remove();continue}n.type=3,n.value=a,n.raw=!0}})})},s=e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(p(n(e)))})},c=e=>{e.on("ResolveName",a=>{"IMG"===a.target.nodeName&&e.dom.hasClass(a.target,l)&&(a.name="pagebreak")})},g=e=>{let a=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:a}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:a})};e.add("pagebreak",e=>{r(e),s(e),g(e),i(e),c(e)})}();
